<form [formGroup]="eduQualsForm" (ngSubmit)="next()">
  <div class="tui-form__row tui-form__row_multi-fields">
    <div class="tui-form__multi-field">
      <label>
        <tui-combo-box
          formControlName="educationalLevel"
          class="input"
          [stringify]="eduStringify"
          (ngModelChange)="getAcademicYear()"
        >
          المرحله الدراسية
          <tui-data-list-wrapper
          *tuiDataList
          [itemContent]="eduStringify | tuiStringifyContent"
          [items] = "educationalLevel | tuiFilterByInputWith: eduStringify"
          ></tui-data-list-wrapper>
        </tui-combo-box>
      </label>
      <tui-error [error]="error"
      *ngIf="eduQualsForm.controls['educationalLevel'].touched
      && eduQualsForm.controls['educationalLevel'].invalid "
      ></tui-error>
    </div>
    <div class="tui-form__multi-field">
      <label>
        <tui-combo-box
          formControlName="academicYear"
          class="input"
          [stringify]="academicStringify"

        >
          السنه الدراسية

          <tui-data-list-wrapper
          *tuiDataList
          [itemContent]="academicStringify | tuiStringifyContent"
          [items] = "academicYear | tuiFilterByInputWith: academicStringify"
          ></tui-data-list-wrapper>
        </tui-combo-box>
      </label>
      <tui-error [error]="error"
      *ngIf="eduQualsForm.controls['academicYear'].touched
      && eduQualsForm.controls['academicYear'].invalid "
      ></tui-error>
    </div>
  </div>
  <div class="tui-form__row">
    <tui-input
      formControlName="schoolName"
      class="input"
      >
      اسم المدرسة
      <span class="tui-required"></span>
    </tui-input>
    <tui-error

    [error]="error"
    *ngIf="eduQualsForm.controls['schoolName'].touched
    && eduQualsForm.controls['schoolName'].invalid"
    >
    </tui-error>

  </div>
  <div class="tui-form__row">
    <tui-textarea
      class="input"
      formControlName="coursesName"
      tuiTextfieldCleaner="true"
    >
      أذكر الدورات التدربية التي حصلت عليها
      <textarea tuiTextfield></textarea>
    </tui-textarea>
  </div>
  <div class="br"></div>
  <div class="tui-form__row tui-form__row_multi-fields">
    <div class="tui-form__multi-field">
      <label>
        <tui-combo-box
          formControlName="language"
          [stringify]="languageStringify"
          class="input"
        >
          اللغة

          <tui-data-list-wrapper
          *tuiDataList
          [itemContent]="languageStringify | tuiStringifyContent"
          [items] = "language | tuiFilterByInputWith: languageStringify"
          ></tui-data-list-wrapper>
        </tui-combo-box>
      </label>
      <tui-error
        formControlName="language"
        [error]="[] | tuiFieldError | async"
      ></tui-error>
    </div>
    <div class="tui-form__multi-field">
      <label>
        <tui-combo-box
          formControlName="languageLevel"
          class="input"
          [stringify]="languageLvlStringify"
        >
          مستوي اللغة

          <tui-data-list-wrapper
          *tuiDataList
          [itemContent]="languageLvlStringify | tuiStringifyContent"
          [items] = "languageLvl | tuiFilterByInputWith: languageLvlStringify"
          ></tui-data-list-wrapper>
        </tui-combo-box>
      </label>
      <tui-error
        formControlName="languageLevel"
        [error]="[] | tuiFieldError | async"
      ></tui-error>
    </div>
    <div class="tui-form__multi-field">
      <button tuiButton (click)="addLanguage()">أضافة</button>
    </div>
  </div>
  <tui-tag
    status="primary"
    [hoverable]="true"
    size="l"
    class="tui-space_left-2 tui-space_top-5"
    *ngFor="let lang of languages; let index = index"
    [removable]="true"
    [value]="lang.name.arabicName + '  -  '+ lang.level.arabicName "
    (edited)="handleTagDeleted($event, index)"
  ></tui-tag>

  <div
    class="tui-form__row"
    style="display: flex; justify-content: flex-end; gap: 0.5rem"
  >
    <button
      type="button"
      routerLink="../contact-data"
      tuiButton
      appearance="secondary"
    >
      السابق
    </button>
    <button
      tuiButton
      [disabled]="eduQualsForm.invalid"
      appearance="secondary"
      type="submit"
    >
      التالي
    </button>
  </div>
</form>
