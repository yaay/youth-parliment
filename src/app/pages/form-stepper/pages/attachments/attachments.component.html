<form [formGroup]="attachmentsForm">
  <h3 class="tui-form__header tui-form__header_margin">
    المرفقات الاجبارية الاساسية
  </h3>
  <div class="tui-form__row tui-form__row_multi-fields">
    <div class="tui-form__multi-field">
      <div class="upload-box" >
        <button
          *ngIf="hasImage('personalImg')"
          (click)="deleteImage($event, 'personalImg')"
          class="close-btn"
        >
          <tui-svg src="tuiIconCloseLarge"></tui-svg>
        </button>
        <p *ngIf="hasImage('personalImg')" class="img-caption">صورة شخصية</p>
        <div class="image" *ngIf="!hasImage('personalImg')" (click)="openFileInput('personalImgFileInput')">
          <tui-marker-icon
            mode="link"
            src="tuiIconUploadCloudLarge"
          ></tui-marker-icon>
          <p>صورة شخصية</p>
        </div>
        <div *ngIf="hasImage('personalImg')">
          <img [src]="returnImage('personalImg')" alt="صورة شخصية" />
        </div>

        <input
          type="file"
          formControlName="personalImg"
          #personalImgFileInput
          style="display: none"
          (change)="onFileSelected($event, 'personalImg')"
        />
      </div>
    </div>
    <div class="tui-form__multi-field">
      <div class="upload-box" >
        <button
          *ngIf="hasImage('idCardImg')"
          (click)="deleteImage($event, 'idCardImg')"
          class="close-btn"
        >
          <tui-svg src="tuiIconCloseLarge"></tui-svg>
        </button>
        <p *ngIf="hasImage('idCardImg')" class="img-caption">
          صورة البطاقة او شهادة الميلاد
        </p>
        <div class="image" *ngIf="!hasImage('idCardImg')" (click)="openFileInput('idFileInput')">
          <tui-marker-icon
            mode="link"
            src="tuiIconUploadCloudLarge"
          ></tui-marker-icon>
          <p>صورة البطاقة او شهادة الميلاد</p>
        </div>
        <div *ngIf="hasImage('idCardImg')">
          <img [src]="returnImage('idCardImg')" alt="صورة البطاقة" />
        </div>
        <input
          type="file"
          formControlName="idFile"
          #idFileInput
          style="display: none"
          (change)="onFileSelected($event, 'idCardImg')"
        />
      </div>
    </div>
  </div>
  <h3 class="tui-form__header">المرفقات الاختيارية في المرحلة الحالية</h3>
  <div class="tui-form__row">
    <div class="tui-form__multi-field">
      <div class="upload-box">
        <button
          *ngIf="hasImage('studyProofImg')"
          (click)="deleteImage($event, 'studyProofImg')"
          class="close-btn"
        >
          <tui-svg src="tuiIconCloseLarge"></tui-svg>
        </button>
        <p *ngIf="hasImage('studyProofImg')" class="img-caption">
          أثبات قيد أو كارنية دراسي
        </p>
        <div class="image" *ngIf="!hasImage('studyProofImg')"  (click)="openFileInput('studyProofFileInput')">
          <tui-marker-icon
            mode="link"
            src="tuiIconUploadCloudLarge"
          ></tui-marker-icon>
          <p>أثبات قيد أو كارنية دراسي</p>
        </div>
        <div *ngIf="hasImage('studyProofImg')">
          <img [src]="returnImage('studyProofImg')" alt="كارنية" />
        </div>
        <input
          type="file"
          formControlName="studyProofFile"
          #studyProofFileInput
          style="display: none"
          (change)="onFileSelected($event, 'studyProofImg')"
        />
      </div>
    </div>
  </div>
  <div
    class="tui-form__row"
    style="display: flex; justify-content: flex-end; gap: 0.5rem"
  >
    <button
      type="button"
      (click)="back()"
      tuiButton
      appearance="secondary"
    >
      السابق
    </button>
    <button
      tuiButton
      [disabled]="attachmentsForm.invalid"
      appearance="secondary"
      type="submit"
      (click)="next()"
    >
      التالي
    </button>
  </div>
</form>
